import{g as R,h as w,q as U}from"./chunk-XSU3SPF6.js";import{Ca as u,Da as g,Ea as b,Fa as h,Ga as C,Ha as k,Ia as r,Ja as o,Ka as p,Na as _,Ra as c,Sa as s,Ta as f,Ua as l,W as M,Wa as v,Xa as P,Ya as y,Z as d,Za as S,d as O,ta as x,va as a}from"./chunk-CKQT6GPN.js";var m=class e{rank;label;imageUrl;score;variant;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=d({type:e,selectors:[["app-ranking-card"]],inputs:{rank:"rank",label:"label",imageUrl:"imageUrl",score:"score",variant:"variant"},standalone:!0,features:[l],decls:8,vars:7,consts:[[1,"ranking-card"],[1,"ranking-card-rank"],[1,"ranking-card-image",3,"src","alt"],[1,"ranking-card-label"],[1,"ranking-card-score"]],template:function(n,i){n&1&&(r(0,"div",0)(1,"div",1),c(2),o(),p(3,"img",2),r(4,"div",3),c(5),o(),r(6,"div",4),c(7),o()()),n&2&&(b(i.variant),a(2),f("#",i.rank,""),a(),g("src",i.imageUrl,x)("alt",i.label),a(2),s(i.label),a(2),f("Score: ",i.score," pts"))},styles:[".ranking-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;padding:16px;box-shadow:0 2px 4px #0000001a;color:#133167;border:1px solid #133167;border-radius:8px}.ranking-card[_ngcontent-%COMP%]   .ranking-card-rank[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.ranking-card.first[_ngcontent-%COMP%], .ranking-card.second[_ngcontent-%COMP%], .ranking-card.third[_ngcontent-%COMP%]{color:#fff}.ranking-card.first[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%], .ranking-card.second[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%], .ranking-card.third[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%]{border-color:#fff}.ranking-card.first[_ngcontent-%COMP%]{min-height:220px;background-color:#011a3b}.ranking-card.second[_ngcontent-%COMP%]{min-height:200px;background-color:#41526c}.ranking-card.third[_ngcontent-%COMP%]{min-height:180px;background-color:#808b9d}.ranking-card[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%]{width:82px;aspect-ratio:1/1;object-fit:cover;border:1px solid #133167;border-radius:4px}.ranking-card[_ngcontent-%COMP%]   .ranking-card-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.ranking-card[_ngcontent-%COMP%]   .ranking-card-score[_ngcontent-%COMP%]{font-size:12px;font-style:italic}"]})};var I=(e,t)=>t.id,$=(e,t,n)=>({first:e,second:t,third:n});function F(e,t){e&1&&(r(0,"p"),c(1,"Loading rankings..."),o())}function z(e,t){if(e&1&&(r(0,"p",2),c(1),o()),e&2){let n=_();a(),s(n.error)}}function N(e,t){if(e&1&&p(0,"app-ranking-card",4),e&2){let n=t.$implicit,i=t.$index;g("label",n.id)("rank",i+1)("imageUrl",n.imageUrl)("score",n.score)("ngClass",v(6,$,i===0,i===1,i===2))("variant",i===0?"first":i===1?"second":"third")}}function j(e,t){if(e&1&&p(0,"app-ranking-card",6),e&2){let n=t.$implicit,i=t.$index;g("label",n.id)("rank",i+4)("imageUrl",n.imageUrl)("score",n.score)}}function B(e,t){if(e&1&&(r(0,"div",3),C(1,N,1,10,"app-ranking-card",4,I),P(3,"slice"),o(),r(4,"div",5),C(5,j,1,4,"app-ranking-card",6,I),P(7,"slice"),o()),e&2){let n=_();a(),k(S(3,0,n.cats,0,3)),a(4),k(y(7,4,n.cats,3))}}var D=class e{catService=M(U);cats;loading=!1;error=null;subscription=new O;ngOnInit(){this.loadRanking()}ngOnDestroy(){this.subscription.unsubscribe()}loadRanking(){this.loading=!0;let t=this.catService.getCatRanking$().subscribe({next:n=>{this.cats=n,this.loading=!1},error:n=>{this.loading=!1,n instanceof Error?this.error=n.message:this.error="An unexpected error occurred. Please try again later."}});this.subscription.add(t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=d({type:e,selectors:[["app-ranking-page"]],standalone:!0,features:[l],decls:5,vars:1,consts:[[1,"page-container"],[1,"page-content","content"],[1,"error-message"],[1,"top-ranking"],[3,"label","rank","imageUrl","score","ngClass","variant"],[1,"other-ranking"],[3,"label","rank","imageUrl","score"]],template:function(n,i){n&1&&(r(0,"section",0)(1,"div",1),u(2,F,2,0,"p")(3,z,2,1,"p",2)(4,B,8,7),o()()),n&2&&(a(2),h(i.loading?2:i.error?3:4))},dependencies:[w,R,m],styles:[".content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .other-ranking[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:16px}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]{align-items:flex-end;margin-bottom:32px}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 30%;min-width:220px}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.first[_ngcontent-%COMP%]{order:2}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.second[_ngcontent-%COMP%]{order:1}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.third[_ngcontent-%COMP%]{order:3}@media (max-width: 780px){.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card[_ngcontent-%COMP%]{flex:1 1 100%}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.first[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.second[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.third[_ngcontent-%COMP%]{order:initial}}.content[_ngcontent-%COMP%]   .other-ranking[_ngcontent-%COMP%]   app-ranking-card[_ngcontent-%COMP%]{flex:1 1 calc(25% - 12px);min-width:160px;box-sizing:border-box}"]})};export{D as RankingPageComponent};
