import{c as w,d as I,o as R,p as U,q as D}from"./chunk-J33H2XRG.js";import{$ as p,$a as d,Ga as O,Ha as c,Ia as u,Ja as b,Ka as m,La as C,Ma as r,Na as o,Oa as g,Ra as v,X as P,Ya as s,Za as x,_a as k,cb as h,d as f,db as _,eb as y,fb as S,wa as M,ya as i}from"./chunk-WRFWHMDT.js";var l=class t{rank;label;imageUrl;score;variant;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=p({type:t,selectors:[["app-ranking-card"]],inputs:{rank:"rank",label:"label",imageUrl:"imageUrl",score:"score",variant:"variant"},standalone:!0,features:[d],decls:8,vars:7,consts:[[1,"ranking-card"],[1,"ranking-card-rank"],[1,"ranking-card-image",3,"src","alt"],[1,"ranking-card-label"],[1,"ranking-card-score"]],template:function(n,e){n&1&&(r(0,"div",0)(1,"div",1),s(2),o(),g(3,"img",2),r(4,"div",3),s(5),o(),r(6,"div",4),s(7),o()()),n&2&&(u(e.variant),i(2),k("#",e.rank,""),i(),c("src",e.imageUrl,M)("alt",e.label),i(2),x(e.label),i(2),k("Score: ",e.score," pts"))},styles:[".ranking-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;padding:16px;box-shadow:0 2px 4px #0000001a;color:#133167;border:1px solid #133167;border-radius:8px}.ranking-card[_ngcontent-%COMP%]   .ranking-card-rank[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.ranking-card.first[_ngcontent-%COMP%], .ranking-card.second[_ngcontent-%COMP%], .ranking-card.third[_ngcontent-%COMP%]{color:#fff}.ranking-card.first[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%], .ranking-card.second[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%], .ranking-card.third[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%]{border-color:#fff}.ranking-card.first[_ngcontent-%COMP%]{min-height:220px;background-color:#011a3b}.ranking-card.second[_ngcontent-%COMP%]{min-height:200px;background-color:#41526c}.ranking-card.third[_ngcontent-%COMP%]{min-height:180px;background-color:#808b9d}.ranking-card[_ngcontent-%COMP%]   .ranking-card-image[_ngcontent-%COMP%]{width:82px;aspect-ratio:1/1;object-fit:cover;border:1px solid #133167;border-radius:4px}.ranking-card[_ngcontent-%COMP%]   .ranking-card-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.ranking-card[_ngcontent-%COMP%]   .ranking-card-score[_ngcontent-%COMP%]{font-size:12px;font-style:italic}"]})};var $=(t,a)=>a.id,z=(t,a,n)=>({first:t,second:a,third:n});function T(t,a){if(t&1&&g(0,"app-ranking-card",4),t&2){let n=a.$implicit,e=a.$index;c("label",n.id)("rank",e+1)("imageUrl",n.imageUrl)("score",n.score)("ngClass",h(6,z,e===0,e===1,e===2))("variant",e===0?"first":e===1?"second":"third")}}function j(t,a){if(t&1&&g(0,"app-ranking-card",6),t&2){let n=a.$implicit,e=a.$index;c("label",n.id)("rank",e+4)("imageUrl",n.imageUrl)("score",n.score)}}function B(t,a){if(t&1&&(r(0,"div",3),m(1,T,1,10,"app-ranking-card",4,$),_(3,"slice"),o(),r(4,"div",5),m(5,j,1,4,"app-ranking-card",6,$),_(7,"slice"),g(8,"app-bottom-nav",7),o()),t&2){let n=v();i(),C(S(3,1,n.cats,0,3)),i(4),C(y(7,5,n.cats,3)),i(3),c("item",n.navItem)}}var N=class t{catService=P(R);cats;loading=!1;error=null;navItem={route:"/voting",label:"Retourner au vote"};subscription=new f;ngOnInit(){this.loadRanking()}ngOnDestroy(){this.subscription.unsubscribe()}loadRanking(){this.loading=!0;let a=this.catService.getCatRanking$().subscribe({next:n=>{this.cats=n,this.loading=!1,this.navItem.info=`${this.catService.getPlayedMatches()} parties jou\xE9es`},error:n=>{this.loading=!1,n instanceof Error?this.error=n.message:this.error="An unexpected error occurred. Please try again later."}});this.subscription.add(a)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=p({type:t,selectors:[["app-ranking-page"]],standalone:!0,features:[d],decls:4,vars:3,consts:[[3,"loading","error"],[1,"page-container"],[1,"page-content","content"],[1,"top-ranking"],[3,"label","rank","imageUrl","score","ngClass","variant"],[1,"other-ranking"],[3,"label","rank","imageUrl","score"],[3,"item"]],template:function(n,e){n&1&&(r(0,"app-state-wrapper",0)(1,"section",1)(2,"div",2),O(3,B,9,8),o()()()),n&2&&(c("loading",e.loading)("error",e.error),i(3),b(!e.loading&&e.cats.length?3:-1))},dependencies:[I,w,U,l,D],styles:[".content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .other-ranking[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;gap:16px}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]{align-items:flex-end;margin-bottom:32px}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 1 30%;min-width:220px}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.first[_ngcontent-%COMP%]{order:2}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.second[_ngcontent-%COMP%]{order:1}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.third[_ngcontent-%COMP%]{order:3}@media (max-width: 780px){.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card[_ngcontent-%COMP%]{flex:1 1 100%}.content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.first[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.second[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .top-ranking[_ngcontent-%COMP%]   app-ranking-card.third[_ngcontent-%COMP%]{order:initial}}.content[_ngcontent-%COMP%]   .other-ranking[_ngcontent-%COMP%]   app-ranking-card[_ngcontent-%COMP%]{flex:1 1 calc(25% - 12px);min-width:160px;box-sizing:border-box}"]})};export{N as RankingPageComponent};
